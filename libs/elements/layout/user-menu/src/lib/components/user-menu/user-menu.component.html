
<div *ngIf="user$ | async as user" class="user-component">

  <img *ngIf="user.photoUrl; else avatar" class="user-photo" [src]="user.photoUrl" alt="">
  <ng-template #avatar>
    <i class="far fa-user-circle user-photo"></i> 
  </ng-template>

  <button class="user-btn" mat-button [matMenuTriggerFor]="userMenu">
    {{ user.displayName }}
    <i class="fas fa-caret-down"></i>
  </button>

  <mat-menu #userMenu="matMenu" xPosition="before">
    <button mat-menu-item>My profile</button>
    <button mat-menu-item (click)="logout()">Log out</button>
  </mat-menu>

</div>
