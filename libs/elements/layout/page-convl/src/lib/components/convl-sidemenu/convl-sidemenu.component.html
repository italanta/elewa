<div class="layout has-sidebar fixed-sidebar fixed-header">
  <aside id="sidebar" class="sidebar break-point-sm has-bg-image">
    <div class="image-wrapper">
      <img src="assets/images/sidebar-bg.jpg" alt="sidebar background" />
    </div>
    <div class="sidebar-layout">
      <div class="sidebar-header" [ngClass]="!isExpanded ? 'make-col' : ''">
        <div class="pro-sidebar-logo">
          <img class="logo-icon" *ngIf="!isExpanded" src="assets/icons/goomza-icon-transparent.png" alt="">
          <img class="logo" *ngIf="isExpanded" src="assets/icons/goomza-logo-colored-transparent.png" alt="">
        </div>
        <div class="nav-toggle">
          <span (click)="toggleMenu()">
            <i class="fa-solid fa-bars"></i>
          </span>
        </div>
      </div>

      <div class="sidebar-content">
        <nav class="menu open-current-submenu">
          <ul>
            <!-- Section Dashboard -->
            <li routerLink="/home" routerLinkActive="active" class="menu-item" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.HOME'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/home-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded" matTooltip="Home" src="assets/icons/home-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.HOME'| transloco }} </span>
              </a>
            </li>

            <!-- Section Bots -->

            <li *hasViewAccess="CAN_ACCESS_BOTS" routerLink="/bots" routerLinkActive="active" class="menu-item" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.BOT'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/bots-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded"  src="assets/icons/bots-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.BOT'| transloco }} </span>
              </a>
            </li>

            <!-- Section Analytics -->
            <li *hasViewAccess="CAN_ACCESS_ANALYTICS" routerLink="/analytics/dashboard" routerLinkActive="active" class="menu-item" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.ANALYTICS'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/insights-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded"  src="assets/icons/insights-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.ANALYTICS'| transloco }} </span>
              </a>
            </li>

            <!-- Messaging sections -->
            <ul class="menu-item"  >
              <a matTooltip="{{'PAGE-CONTENT.SIDE-MENU.MESSAGING'| transloco }}">
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/chats-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded" matTooltip="Chats" src="assets/icons/chats-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title message-title">
                  {{'PAGE-CONTENT.SIDE-MENU.MESSAGING'| transloco }}
                </span>
              </a>
              <ul class="sub-side-menu">
                <li matTooltip="{{'PAGE-CONTENT.SIDE-MENU.CHATS'| transloco }}">
                  <a *hasViewAccess="CAN_ACCESS_CHATS" class="menu-item" routerLink="/chats" routerLinkActive="active">
                    <span class="menu-icon">
                      <img src="assets/icons/message-chat.svg" class="img" alt="">
                    </span>
                    <span *ngIf="isExpanded" class="menu-title">
                      {{'PAGE-CONTENT.SIDE-MENU.CHATS'| transloco }}
                    </span>
                  </a>
                </li>
                <li matTooltip="{{'PAGE-CONTENT.SIDE-MENU.MESSAGE-TEMPLATES'| transloco }}">
                  <a *hasViewAccess="CAN_ACCESS_CHATS" class="menu-item" routerLink="/messaging" routerLinkActive="active" >
                    <span class="menu-icon">
                      <img src="assets/icons/message-template.svg" class="img" alt="">
                    </span>
                    <span *ngIf="isExpanded" class="menu-title">
                      {{'PAGE-CONTENT.SIDE-MENU.MESSAGE-TEMPLATES'| transloco }}
                    </span>
                  </a>
                </li>
              </ul>
            </ul>

            <!-- Asssessments sections -->
            <li *hasViewAccess="CAN_ACCESS_ASSESSMENTS" class="menu-item" routerLink="/assessments" routerLinkActive="active" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.ASSESSMENTS'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/assessments-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded" matTooltip="Assessments" src="assets/icons/assessments-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.ASSESSMENTS'| transloco }}
                </span>
              </a>
            </li>

            <!-- Surveys sections -->
            <li *hasViewAccess="CAN_ACCESS_ASSESSMENTS" class="menu-item" routerLink="/surveys" routerLinkActive="active" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.SURVEYS'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img src="assets/icons/survey.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.SURVEYS'| transloco }}
                </span>
              </a>
            </li>

            <!-- Learners sections -->
            <li *hasViewAccess="CAN_ACCESS_LEARNERS" class="menu-item" routerLink="/learners" routerLinkActive="active" matTooltip="{{'PAGE-CONTENT.SIDE-MENU.LEARNERS'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/learners-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded" matTooltip="Learners" src="assets/icons/learners-stroked.svg" class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title" routerLink="/budgets" routerLinkActive="active">
                  {{'PAGE-CONTENT.SIDE-MENU.LEARNERS'| transloco }}
                </span>
              </a>
            </li>

            <li *hasViewAccess="CAN_ACCESS_SETTINGS" class="menu-item" routerLink="/settings" routerLinkActive="active" matTooltip=" {{'PAGE-CONTENT.SIDE-MENU.ADMIN_SETTINGS'| transloco }}">
              <a>
                <span class="menu-icon">
                  <img *ngIf="isExpanded" src="assets/icons/settings-stroked.svg" class="img" alt="">
                  <img *ngIf="!isExpanded" matTooltip="Settings" src="assets/icons/settings-stroked.svg"  class="img" alt="">
                </span>
                <span *ngIf="isExpanded" class="menu-title">
                  {{'PAGE-CONTENT.SIDE-MENU.ADMIN_SETTINGS'| transloco }}
                </span>
              </a>
            </li>
          </ul>
        </nav>
      </div>

      <div *ngIf="!isExpanded" style="width: 100%;" fxLayout="row" fxLayoutAlign="center center" fxFlex>
        <img *ngIf="user.photoUrl; else avatar" class="user-photo" [src]="user.photoUrl" alt="">
        <ng-template #avatar>
          <i class="far fa-user-circle user-photo"></i>
        </ng-template>
      </div>
      <div *ngIf="isExpanded">
        <convl-sidemenu-footer></convl-sidemenu-footer>
      </div>
    </div>
  </aside>
  <div id="overlay" class="overlay"></div>
</div>