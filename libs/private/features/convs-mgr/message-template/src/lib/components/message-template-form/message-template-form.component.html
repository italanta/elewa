<div class="message-template-form">
    <p>Message templates</p>
    <div class="mt-form" >
        <div class="form-header">
            <p>Edit template</p>
            <div class="form-header-buttons">
                <button mat-raised-button  class="cancel-btn" (click)="cancel()">
                    <span > Cancel </span>
                </button>
                <!-- <button mat-raised-button  class="save-btn" (click)="save()">
                    <span > Save </span>
                </button> -->
            </div>
        </div>
        <div class="form-body">
            <form [formGroup]="templateForm" (ngSubmit)="save()">
                <button mat-raised-button  class="save-btn" type="submit">
                    <span > Save </span>
                </button>
                <div class="form-group">
                    <p><span>*</span> Title</p>
                    <p>Add title for your template</p>
                    <mat-form-field appearance="outline">
                        <input type="text" matInput formControlName="name">
                    </mat-form-field>

                </div>
                <div class="conte" formGroupName="content">
                    <div class="form-group head">
                        <p>Header</p>
                            <p>Add a header of either text or image <span > <span class="spec">T</span> <i class="far fa-image"></i></span></p>
    
                        <mat-form-field appearance="outline">
                            <input type="text" matInput formControlName="header">
                        </mat-form-field>
    
                    </div>
                    
                    <div class="form-group body" formGroupName="body">
                        <p><span>*</span> Body</p>
                        <p>Add content of the message to be sent</p>
                        <mat-form-field appearance="outline">
                            <input #textAreaElement type="textarea" matInput formControlName="text" height="300px" >
                        </mat-form-field>
                        <div formArrayName="examples" *ngFor="let reference of (templateForm.get('content')?.get('body')?.get('examples')?.['controls'] || []); let i = index">
                            <div [formGroupName]="i">
                                <span>
                                {{ reference.get('placeholder')?.value }}
                                <a [href]="reference.get('link')?.value" target="_blank">{{ reference.get('link')?.value }}</a>
                                <button (click)="removeReference(i)">Remove</button>
                                </span>
                            </div>
                            </div>
                            
                        <div>
                            <input type="text" formControlName="newVariable" placeholder="Variable name">
                            <input type="text" formControlName="newPlaceholder" placeholder="Enter placeholder">
                            <button (click)="addReference()">Add Variable</button>
                        </div>
                    </div>
    
                    <div class="form-group">
                        <p> Footer</p>
                        <p>Add a short line of text to your message content to be shown at the bottom</p>
                        <mat-form-field appearance="outline">
                            <input type="textarea" matInput formControlName="footer">
                        </mat-form-field>
                    </div>
                </div>
                

                <div class="form-group">
                    <p> Add responses</p>
                    <p>Add buttons or list that let learners respond to your message</p>
                    <p>Add buttons +</p>
                    <p>Add list +</p>
                    
                </div>
            </form>
        </div>
    </div>
</div>