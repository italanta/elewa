<div class="wrapper">
  <div class="assessment-card" *ngIf="scoresComputed; else fetchingAssessment">
    <div class="title">
      <span>{{'INSIGHTS.CHART.ASSESSMENTS.TITLE' | transloco }}</span>
    </div>

    <div class="assessment-select">
      <div *ngIf="scoresComputed" class="container">
        <select [(ngModel)]="selectedAssessment" (change)="switchAssessmentScores()">
          <option *ngFor="let assessment of assessments" [ngValue]="assessment">
            {{ assessment.title | titlecase }}
          </option>
        </select>
      </div>
    </div>

    <div class="score">
      {{ averageScore || '0%' }}
    </div>

    <div class="assessment-scores">
      <div class="highscore">
        <i class="fa-solid fa-arrow-up tooltip"></i>
        <span>{{'INSIGHTS.CHART.ASSESSMENTS.HIGHEST-SCORE' | transloco }} {{ highestScore }}</span>
      </div>

      <div class="lowscore">
        <i class="fa-solid fa-arrow-down tooltip"></i>
        <span>{{'INSIGHTS.CHART.ASSESSMENTS.LOWEST-SCORE' | transloco }} {{ lowestScore }}</span>
      </div>
    </div>
  </div>

  <ng-template #fetchingAssessment>
    <div class="loader">
      <span>{{'INSIGHTS.CHART.ASSESSMENTS.COMPUTING-SCORES' | transloco }}</span>
      <mat-spinner diameter="25" strokeWidth="3"></mat-spinner>
    </div>
  </ng-template>
</div>