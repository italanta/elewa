<div fxLayout="column" fxLayoutAlign="start">

  <div fxLayout="column" cardContent fxFill>
    <div fxLayout="column" fxLayoutAlign="center">
      <div fxLayout="row" fxLayoutAlign="space-between center">
        <div class="auth-header uppercase-txt">
          {{ 'LOGIN.CREATE-ACCOUNT' | transloco }}
        </div>

        <mat-select id="lang-selector"
                    [(ngModel)]="lang"
                    data-intercom-tooltip="Language selector"
                    fxFlex="15" matTooltip="Language">
          <mat-option value="en" (click)="setLang('en')">EN</mat-option>
          <mat-option value="fr" (click)="setLang('fr')">FR</mat-option>
        </mat-select>
      </div>

      <form [formGroup]="registerForm" fxLayout="column" class="form-body" fxLayoutGap="15px">
        <div fxLayout="row" fxLayoutAlign="start center">
          <div class="icon-box form-field-icon" fxLayoutAlign="center center">
            <i class="fas fa-user-circle"></i>
          </div>

          <mat-form-field id="name-input" data-intercom-tooltip="Name Input"
                          class="special-input" appearance="outline" fxFlex>
            <input matInput name="name" type="text"
                  formControlName="name" required
                  placeholder="{{ 'FORMS.FIELDS.NAME' | transloco }}*">
            <mat-error>{{ 'FORMS.ERRORS.NO-FIRST-NAME' | transloco }}</mat-error>
          </mat-form-field>

        </div>

        <div fxLayout="row" fxLayoutAlign="start center">
          <div class="icon-box form-field-icon" fxLayoutAlign="center center">
            <i class="fas fa-user-circle"></i>
          </div>

          <mat-form-field id="email-input"
                          data-intercom-tooltip="Email Input"
                          class="special-input" appearance="outline" fxFlex>
            <input matInput name="email" type="email"
                  formControlName="email" required ngvemail
                  placeholder="{{ 'FORMS.FIELDS.ENTER-EMAIL' | transloco }}*">
            <mat-error>{{ 'FORMS.ERRORS.INVALID-EMAIL' | transloco }}</mat-error>
          </mat-form-field>

        </div>

        <div fxLayout="row" fxLayoutAlign="start center">
          <div class="icon-box form-field-icon" fxLayoutAlign="center center">
            <i class="fas fa-unlock-alt"></i>
          </div>

          <mat-form-field id="password-input"
                          data-intercom-tooltip="Password Input"
                          class="special-input" appearance="outline" fxFlex>
            <input matInput placeholder="{{ 'FORMS.FIELDS.ENTER-PASSWORD' | transloco }}*"
                  name="password" type="password"
                  formControlName="password" required>
          </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center">
          <div class="icon-box form-field-icon" fxLayoutAlign="center center">
            <i class="fas fa-unlock-alt"></i>
          </div>

          <mat-form-field id="password2-input"
                          data-intercom-tooltip="Password 2 Input"
                          class="special-input" appearance="outline" fxFlex>
            <input matInput placeholder="{{ 'FORMS.FIELDS.CONFIRM-PASSWORD' | transloco }}*"
                  name="confirmPassword" type="password"
                  formControlName="confirmPassword" required>
            <mat-error>{{ 'FORMS.ERRORS.CONFIRM-PASSWORD-MISMATCH' | transloco }}</mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start" fxLayoutGap="8px">

            <mat-checkbox id="terms-input"
                          data-intercom-tooltip="Terms Input"
                          formControlName="acceptConditions" class="small-txt">
            </mat-checkbox>
            <div  class="small-txt">
              {{ "LOGIN.I-AGREE-TO-THE" | transloco }}
              <a href="{{ getTermsLink() }}" target="_blank">{{ "LOGIN.TERMS-OF-SERVICE" | transloco}}</a>
              {{ "LOGIN.AND-THE" | transloco}}
              <a href="{{ getPolicyLink() }}" target="_blank">{{ "LOGIN.PRIVACY-POLICY" | transloco}}</a>.
            </div>

        </div>

        <div fxLayoutAlign="end">
          <app-spinner *ngIf="isLoading" [diameter]="25"></app-spinner>
          &nbsp;
          <button class="uppercase-txt" mat-raised-button color="accent"
                  (click)="doRegister()" [disabled]="formIsInvalid()" >
            {{ 'LOGIN.CREATE' | transloco }}
          </button>
        </div>

        <div class="hr-with-text" fxFlex="row" fxLayoutAlign="center">
          {{ 'LOGIN.OR' | transloco }}
        </div>

        <div fxLayout="row" fxLayoutAlign="start stretch">
          <div class="icon-box fb-icon mat-elevation-z2" fxLayoutAlign="center center">
            <i class="fab fa-microsoft"></i>
          </div>

          <button mat-raised-button id="msBtn" class="uppercase-txt" (click)="loginMicrosoft()" fxFlex>
            {{ "LOGIN.WITH-MICROSOFT" | transloco }}
          </button>
        </div>

        <div fxLayout="row" fxLayoutAlign="start stretch">
          <div class="icon-box google-icon mat-elevation-z2" fxLayoutAlign="center center">
            <i class="fab fa-google"></i>
          </div>

          <button mat-raised-button id="googleBtn" class="uppercase-txt" (click)="loginGoogle()" fxFlex>
            {{ "LOGIN.WITH-GOOGLE" | transloco }}
          </button>
        </div>
      </form>
    </div>
  </div>

</div>
