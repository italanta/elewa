<div *ngIf="user$ | async; else showLogin">

    <app-navbar [backButton]="false">
        <!-- <app-user-menu></app-user-menu> -->
    </app-navbar>

    <app-spinner></app-spinner>

</div>

<ng-template #showLogin>
    <div class="auth-page" fxLayout="row" fxLayoutAlign="center none">
        <div fxFlexLayout="column" class="auth-card">
            <div fxFlex fxLayout="column" fxLayoutAlign="center none" class="actual-form">
                <div class="tiny-logo" fxLayoutAlign="center">
                    <img style="max-width: 100px;" src="assets/images/elewa-logo.png/" />
                    <div fxLayout="row" fxLayoutAlign="end center">
                        <mat-select id="lang-selector" [(ngModel)]="lang" style="margin-left:30px;" data-intercom-tooltip="Language selector" fxFlex="7-" matTooltip="{{ 'FORMS.SELECT-LANGUAGE' | transloco }}">
                            <mat-option value="en" (click)="setLang('en')">EN</mat-option>
                            <mat-option value="fr" (click)="setLang('fr')">FR</mat-option>
                        </mat-select>
                    </div>
                </div>

                <div class="button-area">
                    <div mat-raised-button fxLayout=" row " fxLayoutAlign="space-evenly none ">
                        <button (click)="toggleModeLogin()" [ngClass]="isLogin ? 'login-button' : ''">{{'LOGIN.LOGIN'| transloco}}</button>
                        <button (click)="toggleMode() " [ngClass]="!isLogin ? 'login-button' : ''">{{'LOGIN.CREATE-ACCOUNT'| transloco}}</button>
                    </div>
                </div>

                <div class="form " fxLayout="row " fxLayoutGap="2 " fxLayoutAlign="center center ">

                    <span *ngIf="isLogin "> 
                       <app-login></app-login>
                      </span>

                    <span *ngIf="!isLogin "> 
                        <app-register></app-register>
                      </span>

                    <!-- <router-outlet fxFlex="100 "></router-outlet> -->

                </div>


            </div>

            <div fxFlex fxLayout="column" fxLayoutAlign="center" class="elewa-info">
                <p class="title">{{ 'LOGIN.APP-INTRODUCTION.TITLE' | transloco }}</p>
                <p class="description"> {{'LOGIN.APP-INTRODUCTION.DESCRIPTION' | transloco}}</p>
                <p class="hyperlink">{{'LOGIN.APP-INTRODUCTION.HYPERLINK-TEXT' | transloco}}
                    <a href="{{'LOGIN.APP-INTRODUCTION.HYPER-LINK'}}">{{'LOGIN.APP-INTRODUCTION.HYPER-LINK'| transloco}}</a>
                </p>
            </div>

        </div>

    </div>
</ng-template>