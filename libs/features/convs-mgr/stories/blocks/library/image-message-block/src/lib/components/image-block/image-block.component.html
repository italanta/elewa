<mat-card [id]="id" *ngIf="imageMessageForm">
    <mat-card-content>
        <form [formGroup]="imageMessageForm" fxLayout="column" fxLayoutALign="start center">
            <div [id]="imageInputId">

                <input (change)="processImage($event)" type="file" [id]="imageInputUpload" hidden />
                <label [for]="imageInputUpload">
                    <div *ngIf="!hasImage; else inputHasImage">
                        <i class="fas fa-image"></i>
                    </div>
                    <ng-template #inputHasImage>
                        <img (load)="isLoading = true" *ngIf="!isLoading" type="image" class="upload-image" [src]="imageLink" alt="" (loadstart)="isLoading = true"/>
                    </ng-template>
                    <div *ngIf="isLoading" class="spinner">
						<div class="spinner"></div>
					</div>
                </label>

            </div>

            <app-default-option-field [jsPlumb]="jsPlumb" [blockFormGroup]="imageMessageForm"></app-default-option-field>

            <input type="text" [placeholder]="'PAGE-CONTENT.BLOCK.PLACEHOLDER.CAPTION' | transloco"
                formControlName="message" id="caption" />
            <input type="text" [placeholder]="'PAGE-CONTENT.BLOCK.PLACEHOLDER.IMAGE-LINK' | transloco"
                 id="image-link" formControlName="fileSrc" />
        </form>
    </mat-card-content>
</mat-card>