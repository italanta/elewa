<div [id]="id" *ngIf="conditionalBlockForm">
  <form
    [formGroup]="conditionalBlockForm"
    fxLayout="column"
    fxLayoutALign="start center"
  >
    <div class="details-wrapper">
      <div class="options-wrapper">
        <select id="options" formControlName="selectedVar" class="select">
          <option for="" class="assess-label">
            {{
              'PAGE-CONTENT.BLOCK.LABELS.CONDITIONAL-BLOCK.SELECT-VARIABLE'
                | transloco
            }}
          </option>
          <option
            *ngFor="let variable of vars$ | async"
            [value]="variable"
            class="assess-label"
          >
            {{ variable }}
          </option>
        </select>
        <div class="select-icon">
          <img src="assets/svgs/blocks/chevron-down.svg" alt="" />
        </div>
      </div>

      <div class="select-variable">
        <div class="checkbox-select">
          <div class="square-checkbox">
            <input
              type="checkbox"
              formControlName="isTyped"
              name="check"
              id="isTyped"
            />
            <label for="myCheckbox"></label>
          </div>
        </div>
        <span for="isTyped" class="label">{{
          'PAGE-CONTENT.BLOCK.LABELS.CONDITIONAL-BLOCK.CHECKBOX' | transloco
        }}</span>
      </div>

      <div class="type-variable">
        <!-- <label for="variableToCheck">{{ 'PAGE-CONTENT.BLOCK.LABELS.CONDITIONAL-BLOCK.INPUT-VARIABLE' | transloco }}</label> -->
        <input
          class="input"
          type="text"
          formControlName="typedVar"
          placeholder="{{
            'PAGE-CONTENT.BLOCK.PLACEHOLDER.CONDITIONAL-BLOCK.INPUT-VARIABLE'
              | transloco
          }}"
          id="variableToCheck"
        />
      </div>
    </div>

    <div formArrayName="options" fxFlexFill>
      <div *ngFor="let option of options.controls; let i = index">
        <div
          [formGroupName]="i"
          class="inputList"
          fxLayout="row"
          fxLayoutALign="start center"
          fxFlex="100"
        >
          <button (click)="deleteInput(i)" class="listgone">
            <i class="far fa-trash-alt"></i>
          </button>
          <app-option-input-field
            #optionInputFields
            [jsPlumb]="jsPlumb"
            [blockFormGroup]="conditionalBlockForm"
            [formGroupNameInput]="i"
            class="input"
            [charMaxlength]="listOptionInputLimit"
          ></app-option-input-field>
        </div>
      </div>
    </div>
  </form>

  <button (click)="addNewOption()" mat-flat-button class="add-button">
    {{ 'BOTS.ACTIONS.ADD-OPTION' | transloco }}
  </button>
  <app-default-option-field
    [jsPlumb]="jsPlumb"
    [blockFormGroup]="conditionalBlockForm"
  ></app-default-option-field>
</div>
