<div class="nav">
  <div class="block-library-top-section">
    <div *ngIf="isSideScreenOpen" class="btn-wrapper" (click)="toggleSidenav()">
      <i class="fas fa-chevron-left"></i>
    </div>
  </div>

  <div class="blocks-header">
    <span class="header-title"> Choose Element</span>
  </div>

  <div class="block-filters">
    <div class="search">
      <i class="fas fa-search search_tooltip"></i>
      <input class="search_input" type="text" name="search table"
        placeholder="Search element" id=""
        (keyup)="filterBlocks($event)">
        </div>
  </div>

  <mat-divider></mat-divider>

  <div fxLayout="column" *ngIf="blockTemplate$ | async as blocks" fxFlex>
    <!-- message block -->
    <div 
      class="block-list" 
      *ngIf="!isInteractiveVoiceResponseModule && (blocks | blockCategoryPipe: 'messages-block') as groupedBlocks"
    >
      <h6 class="first-title" *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.MESSAGE-BLOCK' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>

    <!-- questions block -->
    <div 
      class="block-list" 
      *ngIf="blocks | blockCategoryPipe: 'questions-block' as groupedBlocks"
    >
      <h6 *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.QUESTION-BLOCKS' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>

    <!-- Operations block -->
    <div 
      class="block-list" 
      *ngIf="!isInteractiveVoiceResponseModule && (blocks | blockCategoryPipe: 'operation-block') as groupedBlocks"
    >
      <h6 *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.OPERATION-BLOCKS' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>

    <!-- bricks -->
    <div 
      class="block-list" 
      *ngIf="!isInteractiveVoiceResponseModule && (blocks | blockCategoryPipe: 'bricks') as groupedBlocks"
    >
      <h6 *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.BRICKS' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>

    <!-- micro-apps -->
    <div 
      class="block-list" 
      *ngIf="!isInteractiveVoiceResponseModule && (blocks | blockCategoryPipe: 'Micro-apps') as groupedBlocks"
    >
      <h6 *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.MICRO-APPS' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>

    <!-- end block -->
    <div 
      class="block-list" 
      *ngIf="!isInteractiveVoiceResponseModule && (blocks | blockCategoryPipe: 'end-block') as groupedBlocks"
    >
      <h6 *ngIf="groupedBlocks.length">{{ 'PAGE-CONTENT.BLOCK-CATEGORY.END-BLOCK' | transloco }}</h6>
      <convl-grouped-blocks [groupedBlocks]="groupedBlocks" [frame]="frame"></convl-grouped-blocks>
    </div>
</div>
</div>
