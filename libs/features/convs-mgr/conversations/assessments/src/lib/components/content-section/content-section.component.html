<ng-container *ngIf="pageView$ | async as pageMode" class="micro-app-content">
  <ng-container *ngIf="pageMode === pageViewMode.AssessmentMode">
    <!-- Header with details about assessment -->
    <app-assessment-header></app-assessment-header>

    <!-- Banner with grade details -->
    <app-assessment-result-banner></app-assessment-result-banner>

    <!--Assessment details  -->
    <div class="assessment-mode">
      <div class="progress-tracker">
        <div class="progress-bar" [ngStyle]="{'width': progressPercentage + '%', 'background-image': getProgressColor(progressPercentage)}"></div>
        <div class="progress-text">
          {{progressPercentage}}% Complete
        </div>
      </div>
    
      <app-assessment-card 
        [assessmentQuestions]="assessmentQuestions" 
        [assessmentForm]="assessmentForm" 
        [assessmentFormArray]="assessmentFormArray"
        [progressCallback]="getProgress.bind(this)"
        >
      </app-assessment-card> 
    </div>
  </ng-container>
  <ng-container *ngIf=" pageMode ===  pageViewMode.FailFeedbackMode">
    <app-assessment-failed-section></app-assessment-failed-section>
  </ng-container>
</ng-container>
<app-micro-apps-footer></app-micro-apps-footer>
