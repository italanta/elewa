<convl-page>
  <div class="question-page">
    <lib-question-bank-header 
      (addNewQuestion)="onNewQuestionAdded($event)" 
      (addMode)="onAddModeChanged($event)">
    </lib-question-bank-header>
    <div class="search-tab">
      <div class="questions-number">
        <span>{{ "ASSESSMENTS.QUESTION-BANK.QUESTIONS" | transloco }}</span>
      </div>
      <div class="search-content">
        <div class="search-details">
          <img src="assets/icons/ellipse-search.svg"/>
          <input [(ngModel)]="searchTerm" (input)="searchQuestion()" [placeholder]="'ASSESSMENTS.QUESTION-BANK.QUESTIONS-SEARCH' | transloco" />
        </div>

        <div class="sort-tab" (click)="sortDates()">
          <span>{{ "ASSESSMENTS.QUESTION-BANK.SORTING" | transloco }}</span>
          <i class="fa-solid fa-chevron-down"></i>
        </div>
      </div>
    </div>
    <div class="question-content">
      <app-question-bank-question-form 
        *ngIf="isAddingQuestion" 
        [questionFormGroup]="questionsFormGroup">
      </app-question-bank-question-form>
    </div>

    <div class="displayedQuestions" *ngFor="let question of filteredQuestions">
      <input type="checkbox" (click)="addQuestion(question.id!)" />
      <app-question-card [question]="question" class="__card"></app-question-card>
    </div>    
  </div>
</convl-page>

