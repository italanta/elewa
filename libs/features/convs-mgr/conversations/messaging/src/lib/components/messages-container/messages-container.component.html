<div id="message-container" #container appScrollPosition (scrollPosition)="scrollHandler($event)" fxFlex>
  <mat-list *ngIf="isLoaded; else loading">
    <mat-list-item *ngFor="let message of messages; let i = index">
      <!-- <div *ngIf="isNewDate(messages[i])" class="hr-with-text" fxLayout="row" fxLayoutAlign="center">
        {{ lastDate | date }}
      </div> -->
      <div class="message-block">
        <span [ngClass]="message.direction === 5 ? ['right'] : ['left']">
          <app-chat-message [message]="message"></app-chat-message>
        </span>
      </div>
    </mat-list-item>
  </mat-list>

</div>

<div class="btn-new-msg" fxLayout="row" fxLayoutAlign="center">
  <button *ngIf="newMessages" (click)="scrollToBottom()" class="new-msg-btn" mat-raised-button>
    New messages..
  </button>
</div>

<ng-template #loading><app-spinner [diameter]="30"></app-spinner></ng-template>

<!-- (multiple)="deleteMessages($event)" -->